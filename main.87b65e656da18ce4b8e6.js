(()=>{var e={85:()=>{const e=document.getElementById("time"),t=document.getElementById("date"),n=document.getElementById("choice_lang");let o;setInterval((()=>{(function(){o=n.querySelector("[selected]").dataset.value;const e=new Date,a=e.toLocaleString(`${o}`,{month:"long"}),c=e.getDate();t.innerHTML=`${e.toLocaleString(`${o}`,{weekday:"short"})} ${c} ${a}`})(),function(){const t=new Date,n=t.getHours().toString(),o=t.getMinutes().toString(),a=t.getSeconds().toString();e.innerHTML=`${n.padStart(2,"0")}:${o.padStart(2,"0")}:${a.padStart(2,"0")}`}()}),1e3)},51:()=>{document.querySelector(".weather_container"),document.querySelector(".map_container"),document.querySelector(".locationAndTime");const e=document.getElementById("location"),t=(document.querySelector(".currentWeather"),document.getElementById("temp")),n=document.querySelector(".innerInfo"),o=document.querySelector(".weatherOn3Days"),a=(document.querySelector("#search"),document.querySelector("input")),c=document.querySelector("form"),r=document.querySelector("#choice_temp"),i=(document.querySelector(".active"),r.querySelectorAll("button")),d=document.querySelector(".coordinates");let l,s,u,m;async function y(a){try{const c=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=e656736c26754e098db140545212405&q=${a}&days=3`),r=await c.json();r.error&&1006===r.error.code&&alert("Город не найден. Попробуйте заново");const i=[r.location.lon,r.location.lat];!function(a){e.innerHTML="",t.innerHTML="",n.innerHTML="",o.innerHTML="",d.innerHTML="",l=document.querySelector(".active").dataset.value,s="c"===l?"temp_c":"temp_f",u="c"===l?"feelslike_c":"feelslike_f",m="c"===l?"maxtemp_c":"maxtemp_f",function(o){e.textContent=`${o.location.name.toUpperCase()}, ${o.location.country.toUpperCase()}`,t.innerHTML=`${Math.round(o.current[s])}&#176`,n.innerHTML=`<img src=${o.current.condition.icon} class="icon">\n  <div class='info_element'>${o.current.condition.text}</div>\n  <div class='info_element'>FEELS LIKE: ${Math.round(o.current[u])} &#176</div>\n  <div class='info_element'>WIND: ${Math.round(o.current.wind_kph*(5/18))} m/s</div>\n  <div class='info_element'>HUMIDITY: ${o.current.humidity}%</div>\n  `}(a),function(e){e.forecast.forecastday.forEach((e=>{const t=document.createElement("div");t.className="blockDayWeather",t.innerHTML=`\n    <div class="weekDayNext>\n      <div class="weekDay">${new Date(e.date).toLocaleString("eng",{weekday:"long"})}\n      </div>\n    </div>\n    <div class='weekDayWeather'>\n      <div class="next_day_weather">${Math.round(e.day[m])}&#176</div>\n      <img src=${e.day.condition.icon}>\n    </div>`,o.appendChild(t)}))}(a),function(e){const t=String(e.location.lat).split("."),n=String(e.location.lon).split(".");d.innerHTML=`\n  <div>Latitude: ${t[0]}&#176 ${t[1]}'</div>\n  <div>Longitude: ${n[0]}&#176 ${n[1]}'</div>\n  `}(a)}(r),function(e){mapboxgl.accessToken="pk.eyJ1IjoiamVyb21pdHJ1IiwiYSI6ImNrcDV0MXRmMjF4bDQyb213NGpxZTNiNDkifQ.VgwARiMKZjGIkaYakkpQQw",new mapboxgl.Map({container:"map",center:e,zoom:9,interactive:!1,style:"mapbox://styles/mapbox/streets-v11"})}(i)}catch(e){console.log(e),alert("Что-то пошло не так"),p()}}async function p(){try{const e=await fetch("https://ipinfo.io?token=6520844a54f3ec");y((await e.json()).city)}catch(e){alert("Что-то пошло не так"),console.log(e)}}document.addEventListener("DOMContentLoaded",(t=>{c.addEventListener("submit",(e=>{e.preventDefault(),y(a.value),a.value=""})),p(),async function(){try{const e=await fetch("https://api.unsplash.com/photos/random?orientation=landscape&per_page=1&query=nature&client_id=7wYU5zOAy4uV-EdWgZkKEbVoLxPO4CCd_fhjcsRp5v8"),t=await e.json();document.body.style.backgroundImage=`url(${t.urls.full})`,document.body.style.backgroundSize="cover"}catch(e){alert("Ошибка загрузки фонового изображения")}}(),r.addEventListener("click",(t=>{l!==t.target.dataset.value&&(i.forEach((e=>e.classList.remove("active"))),t.target.classList.add("active"),y(e.textContent))}))}))}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var c=t[o]={exports:{}};return e[o](c,c.exports,n),c.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";n(85),n(51)})()})();